<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>Github Action for Project Bicep Arm Dsl - Automate everything </title><meta name=Description content="Automate everything - Sebastian Gräf"><meta property="og:title" content="Github Action for Project Bicep Arm Dsl">
<meta property="og:description" content="All ARM enthusiasts among us will now probably cry out and be happy. Microsoft announced a new ARM DSL, called Bicep. I won’t go into too much detail here, as I’m more into how to use a GitHub Action to use Bicep to generate an ARM template out of a .bice file. But let me give you some context to Bicep.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://graef.io/github-action-for-project-bicep-arm-dsl/"><meta property="og:image" content="https://graef.io/github-action-for-project-bicep-arm-dsl/featured-image.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2020-09-03T17:52:23+08:00">
<meta property="article:modified_time" content="2020-09-03T17:52:23+08:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://graef.io/github-action-for-project-bicep-arm-dsl/featured-image.png">
<meta name=twitter:title content="Github Action for Project Bicep Arm Dsl">
<meta name=twitter:description content="All ARM enthusiasts among us will now probably cry out and be happy. Microsoft announced a new ARM DSL, called Bicep. I won’t go into too much detail here, as I’m more into how to use a GitHub Action to use Bicep to generate an ARM template out of a .bice file. But let me give you some context to Bicep.">
<meta name=application-name content="graef.io - Sebastian Gräf">
<meta name=apple-mobile-web-app-title content="graef.io - Sebastian Gräf"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://graef.io/github-action-for-project-bicep-arm-dsl/><link rel=prev href=https://graef.io/azure-github-actions-and-workflows/><link rel=next href=https://graef.io/azure-pipelines-container-agents-for-azure-devops/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><meta name=google-site-verification content="google-site-verification=081I19l1P1J3FFLaw1uKtAtY5KcJx_Z9ywiKt60VGP4"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Github Action for Project Bicep Arm Dsl","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/graef.io\/github-action-for-project-bicep-arm-dsl\/"},"image":["https:\/\/graef.io\/logo.png"],"genre":"posts","keywords":"automation, Scripts, PowerShell, Bicep, json, github, git, action, workflow, YAML, ARM","wordcount":292,"url":"https:\/\/graef.io\/github-action-for-project-bicep-arm-dsl\/","datePublished":"2020-09-03T17:52:23+08:00","dateModified":"2020-09-03T17:52:23+08:00","publisher":{"@type":"Organization","name":"","logo":"https:\/\/graef.io\/logo.png"},"author":{"@type":"Person","name":"Sebastian Gräf"},"description":""}</script></head>
<body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'light'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'light'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="Automate everything "><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo.png data-srcset="/logo.png, /logo.png 1.5x, /logo.png 2x" data-sizes=auto alt=/logo.png title=/logo.png></a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=/posts/ title=Posts> Posts </a><a class=menu-item href=/categories/projects/ title=Projects> Projects </a><a class=menu-item href=/categories/til/ title="Today I learned"> TIL </a><a class=menu-item href=/tags/ title=Tags> Tags </a><a class=menu-item href=/categories/ title=Categories> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=/ title="Automate everything "><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo.png data-srcset="/logo.png, /logo.png 1.5x, /logo.png 2x" data-sizes=auto alt=/logo.png title=/logo.png></a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
Cancel
</a>
</div><a class=menu-item href=/posts/ title=Posts>Posts</a><a class=menu-item href=/categories/projects/ title=Projects>Projects</a><a class=menu-item href=/categories/til/ title="Today I learned">TIL</a><a class=menu-item href=/tags/ title=Tags>Tags</a><a class=menu-item href=/categories/ title=Categories>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a></div>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>Contents</h2>
<div class=toc-content id=toc-content-auto></div>
</div><article class="page single"><h1 class="single-title animated flipInX">Github Action for Project Bicep Arm Dsl</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=https://graef.io title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>Sebastian Gräf</a></span>&nbsp;<span class=post-category>included in <a href=/categories/github/><i class="far fa-folder fa-fw"></i>GitHub</a>&nbsp;<a href=/categories/azure/><i class="far fa-folder fa-fw"></i>Azure</a></span></div>
<div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="Thursday, Sep 3, 2020">Thursday, Sep 3, 2020</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;292 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;2 minutes&nbsp;</div>
</div><div class="details toc" id=toc-static kept>
<div class="details-summary toc-title">
<span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#wait-what>Wait what?</a></li>
<li><a href=#where-do-i-get-started>Where do I get started?</a></li>
<li><a href=#github-action-bicep>GitHub Action Bicep</a>
<ul>
<li><a href=#procedure>Procedure</a></li>
</ul>
</li>
<li><a href=#yeah-wow-great-and-now>Yeah wow great and now?</a></li>
</ul>
</nav></div>
</div><div class=content id=content><p>All ARM enthusiasts among us will now probably cry out and be happy. Microsoft announced a new ARM DSL, called Bicep. I won’t go into too much detail here, as I’m more into how to use a GitHub Action to use Bicep to generate an ARM template out of a .bice file. But let me give you some context to <a href=https://github.com/Azure/bicep target=_blank rel="noopener noreffer">Bicep</a>.</p>
<h2 id=wait-what>Wait what?</h2>
<p><a href=https://github.com/Azure/bicep target=_blank rel="noopener noreffer">Bicep</a> is a domain-specific language (DSL) for the declarative use of Azure resources. It simplifies the authoring experience with cleaner syntax and better support for modularity and code reuse. Bicep is a transparent abstraction over ARM and ARM templates, which means that everything that can be done in an ARM template can also be done in Bicep (outside the temporarily known limitations). All resource types, apiVersions and properties that are valid in an ARM template are equally valid on the first day in Bicep.</p>
<p>Bicep compiles down to standard ARM template JSON files, which means that the ARM JSON is effectively treated as an intermediate language (IL).</p>
<p>Source: <a href=https://github.com/Azure/bicep#what-is-bicep target=_blank rel="noopener noreffer">Azure/bicep</a></p>
<h2 id=where-do-i-get-started>Where do I get started?</h2>
<h2 id=github-action-bicep>GitHub Action Bicep</h2>
<h3 id=procedure>Procedure</h3>
<p>A bicep file looks like the following:</p>
<script type=application/javascript src="https://gist.github.com/segraef/d5a84dabdecded5a98d6e0422bb04a8b.js?file=main.bicep"></script>
<p>With the help of the Bicep CLI you can compile a bice file into an ARM template:</p>
<p>bicep build ./main.bicep
main.json</p>
<p>The GitHub Workflow looks like the following:</p>
<script type=application/javascript src="https://gist.github.com/segraef/84d60537e65ef3cb2e460b2882c985eb.js?file=workflow.yml"></script>
<p>Once your workflow and main.bicep is pushed/commited to your repository the workflow gets executed. After that, the GitHub Action segraef/bicep compiles your main.bicep into the ARM template and is being deployed into Azure using New-AzResourceGroupDeployment.</p>
<figure><a class=lightgallery href=/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-06.png title=/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-06.png data-thumbnail=/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-06.png data-sub-html="<h2>GitHub Workflow execution.</h2>">
<img class=lazyload src=/svg/loading.min.svg data-src=2021-08-12-17-57-06.png data-srcset="/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-06.png, 2021-08-12-17-57-06.png 1.5x, /github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-06.png 2x" data-sizes=auto alt=/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-06.png>
</a><figcaption class=image-caption>GitHub Workflow execution.</figcaption>
</figure>
<figure><a class=lightgallery href=/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-22.png title=/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-22.png data-thumbnail=/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-22.png data-sub-html="<h2>Finished example deployment of a storage account in Azure defined in main.bicep.</h2>">
<img class=lazyload src=/svg/loading.min.svg data-src=2021-08-12-17-57-22.png data-srcset="/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-22.png, 2021-08-12-17-57-22.png 1.5x, /github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-22.png 2x" data-sizes=auto alt=/github-action-for-project-bicep-arm-dsl/2021-08-12-17-57-22.png>
</a><figcaption class=image-caption>Finished example deployment of a storage account in Azure defined in main.bicep.</figcaption>
</figure>
<h2 id=yeah-wow-great-and-now>Yeah wow great and now?</h2>
<div class="details admonition info open">
<div class="details-summary admonition-title">
<i class="icon fas fa-info-circle fa-fw"></i>References<i class="details-icon fas fa-angle-right fa-fw"></i>
</div>
<div class=details-content>
<div class=admonition-content><ul>
<li><a href=/azure-github-actions-and-workflows/ rel>Azure GitHub Actions and Wokflows </a></li>
</ul>
</div>
</div>
</div></div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span>Updated on Thursday, Sep 3, 2020</span>
</div>
<div class=post-info-license></div>
</div>
<div class=post-info-line>
<div class=post-info-md></div>
<div class=post-info-share>
<span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://graef.io/github-action-for-project-bicep-arm-dsl/ data-title="Github Action for Project Bicep Arm Dsl" data-via=segraef data-hashtags=automation,Scripts,PowerShell,Bicep,json,github,git,action,workflow,YAML,ARM><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://graef.io/github-action-for-project-bicep-arm-dsl/ data-hashtag=automation><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://graef.io/github-action-for-project-bicep-arm-dsl/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://graef.io/github-action-for-project-bicep-arm-dsl/ data-title="Github Action for Project Bicep Arm Dsl" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://graef.io/github-action-for-project-bicep-arm-dsl/><i class="fab fa-reddit fa-fw"></i></a></span>
</div>
</div>
</div>
<div class=post-info-more>
<section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/automation/>automation</a>,&nbsp;<a href=/tags/scripts/>Scripts</a>,&nbsp;<a href=/tags/powershell/>PowerShell</a>,&nbsp;<a href=/tags/bicep/>Bicep</a>,&nbsp;<a href=/tags/json/>json</a>,&nbsp;<a href=/tags/github/>github</a>,&nbsp;<a href=/tags/git/>git</a>,&nbsp;<a href=/tags/action/>action</a>,&nbsp;<a href=/tags/workflow/>workflow</a>,&nbsp;<a href=/tags/yaml/>YAML</a>,&nbsp;<a href=/tags/arm/>ARM</a></section>
<section>
<span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span>
</section>
</div>
<div class=post-nav><a href=/azure-github-actions-and-workflows/ class=prev rel=prev title="Azure Github Actions and Workflows"><i class="fas fa-angle-left fa-fw"></i>Azure Github Actions and Workflows</a>
<a href=/azure-pipelines-container-agents-for-azure-devops/ class=next rel=next title="Azure Pipelines Container Agents for Azure Devops">Azure Pipelines Container Agents for Azure Devops<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id=comments><div id=utterances></div><noscript>
Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.
</noscript></div></article></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://graef.io target=_blank>Sebastian Gräf</a></span></div>
</div>
</footer></div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top">
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments">
<i class="fas fa-comment fa-fw"></i>
</a>
</div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=stylesheet href=/lib/katex/copy-tex.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/auto-render.min.js></script><script type=text/javascript src=/lib/katex/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:20},comment:{utterances:{darkTheme:"github-dark",issueTerm:"pathname",label:"",lightTheme:"github-light",repo:"segraef/graef.io"}},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-99599711-2',{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-99599711-2" async></script></body>
</html>